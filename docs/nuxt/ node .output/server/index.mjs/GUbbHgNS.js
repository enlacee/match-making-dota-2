import{_ as L}from"./CZh0QULO.js";import{x as y,y as _,z as C,A as V,B as D,r as A,C as J,D as P,c as p,E as R,o as v,G as U,u as d,H as F,f as j,a as t,b as S,w as G,q as H,p as q,v as O,m as K,t as w,I as z,F as T,n as N,d as Q}from"./FFJlHf5F.js";import{u as B}from"./BBOy_UsY.js";function W(e){var m;(m=performance==null?void 0:performance.mark)==null||m.call(performance,"mark_feature_usage",{detail:{feature:e}})}const X={src:{type:String,required:!1},format:{type:String,required:!1},quality:{type:[Number,String],required:!1},background:{type:String,required:!1},fit:{type:String,required:!1},modifiers:{type:Object,required:!1},preset:{type:String,required:!1},provider:{type:String,required:!1},sizes:{type:[Object,String],required:!1},densities:{type:String,required:!1},preload:{type:[Boolean,Object],required:!1},width:{type:[String,Number],required:!1},height:{type:[String,Number],required:!1},alt:{type:String,required:!1},referrerpolicy:{type:String,required:!1},usemap:{type:String,required:!1},longdesc:{type:String,required:!1},ismap:{type:Boolean,required:!1},loading:{type:String,required:!1,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],required:!1,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,required:!1,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],required:!1}},Y=e=>{const m=y(()=>({provider:e.provider,preset:e.preset})),o=y(()=>({width:_(e.width),height:_(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),f=C(),u=y(()=>({...e.modifiers,width:_(e.width),height:_(e.height),format:e.format,quality:e.quality||f.options.quality,background:e.background,fit:e.fit}));return{options:m,attrs:o,modifiers:u}},Z={...X,placeholder:{type:[Boolean,String,Number,Array],required:!1},placeholderClass:{type:String,required:!1},custom:{type:Boolean,required:!1}},ee=["src"],te=V({__name:"NuxtImg",props:Z,emits:["load","error"],setup(e,{emit:m}){const o=e,f=D(),u=m,i=!1,l=C(),r=Y(o),b=A(!1),c=A(),s=y(()=>l.getSizes(o.src,{...r.options.value,sizes:o.sizes,densities:o.densities,modifiers:{...r.modifiers.value,width:_(o.width),height:_(o.height)}})),M=y(()=>{const a={...r.attrs.value,"data-nuxt-img":""};return(!o.placeholder||b.value)&&(a.sizes=s.value.sizes,a.srcset=s.value.srcset),a}),k=y(()=>{let a=o.placeholder;if(a===""&&(a=!0),!a||b.value)return!1;if(typeof a=="string")return a;const g=Array.isArray(a)?a:typeof a=="number"?[a,a]:[10,10];return l(o.src,{...r.modifiers.value,width:g[0],height:g[1],quality:g[2]||50,blur:g[3]||3},r.options.value)}),n=y(()=>o.sizes?s.value.src:l(o.src,r.modifiers.value,r.options.value)),h=y(()=>k.value?k.value:n.value),$=J().isHydrating;return P(()=>{if(k.value||o.custom){const a=new Image;n.value&&(a.src=n.value),o.sizes&&(a.sizes=s.value.sizes||"",a.srcset=s.value.srcset),a.onload=g=>{b.value=!0,u("load",g)},a.onerror=g=>{u("error",g)},W("nuxt-image");return}c.value&&(c.value.complete&&$&&(c.value.getAttribute("data-error")?u("error",new Event("error")):u("load",new Event("load"))),c.value.onload=a=>{u("load",a)},c.value.onerror=a=>{u("error",a)})}),(a,g)=>a.custom?R(a.$slots,"default",F(U({key:1},{...d(i)?{onerror:"this.setAttribute('data-error', 1)"}:{},imgAttrs:{...M.value,...d(f)},isLoaded:b.value,src:h.value}))):(v(),p("img",U({key:0,ref_key:"imgEl",ref:c,class:o.placeholder&&!b.value?o.placeholderClass:void 0},{...d(i)?{onerror:"this.setAttribute('data-error', 1)"}:{},...M.value,...d(f)},{src:h.value}),null,16,ee))}}),{medals:I}=B(),x=A([]),re=()=>{const e={AUTO:0,MANUAL:1};let m=A([{id:1,custom:e.AUTO,nickname:"JuanPerez",mmr:0},{id:2,custom:e.AUTO,nickname:"RiaMeda",mmr:721},{id:3,custom:e.AUTO,nickname:"jojo12",mmr:840},{id:4,custom:e.AUTO,nickname:"asd8",mmr:1560},{id:5,custom:e.AUTO,nickname:"gg2",mmr:1680},{id:6,custom:e.AUTO,nickname:"as211",mmr:2520},{id:7,custom:e.AUTO,nickname:"rojos34",mmr:3360},{id:8,custom:e.AUTO,nickname:"dialz",mmr:4200},{id:9,custom:e.AUTO,nickname:"pepedias",mmr:5040},{id:10,custom:e.AUTO,nickname:"pepedias",mmr:5761}]);P(()=>{const i=localStorage.getItem("players");x.value=i?JSON.parse(i):[...m.value],I.value.length>0?(x.value.forEach(l=>{if(l.custom===e.AUTO){let r=u(parseInt(l.mmr));l.idMedalla=r.id,l.medalla=r.name}}),console.log("== se encontraron medallas")):console.log("== no se encontraron medallas")}),j(x,()=>{localStorage.setItem("players",JSON.stringify(x.value)),console.log("guardo en localstorage!")},{deep:!0});const o=i=>{if(i.id=Date.now(),i.custom===e.AUTO){let l=u(parseInt(i.mmr));i.medalla=l.name,i.idMedalla=l.id}else i.custom,e.MANUAL;console.log("player to add to players",i),x.value.push(i)},f=i=>{x.value.splice(i,1)},u=i=>{const l=I.value;for(let r=l.length-1;r>=0;r--)if(i>=l[r].mmr)return{id:l[r].id,name:l[r].name};return{id:99,name:"Sin rango"}};return{players:x,CUSTOM_MODE:e,addPlayer:o,deletePlayer:f}},se={class:"py-8"},ae={class:"max-w-3xl mx-auto"},oe={class:"flex justify-between items-center mb-8"},le={class:"bg-gray-100 dark:bg-gray-800 p-6 rounded-lg mb-8"},ne={key:0,class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 transition-all duration-300"},ie=["onClick"],de={class:"text-center text-sm mt-2"},ue={class:"bg-gray-100 dark:bg-gray-800 p-6 rounded-lg"},me={class:"overflow-x-auto"},ce={class:"min-w-full"},ge={class:"py-2 px-3 text-sm"},fe={class:"py-2 px-3"},pe={class:"font-medium"},ve={class:"py-2 px-3"},ye={class:"py-2 px-3"},be={class:"flex items-center space-x-2"},he={class:"text-sm"},xe={class:"py-2 px-3"},ke=["onClick"],Me={__name:"players",setup(e){const{players:m,CUSTOM_MODE:o,deletePlayer:f,addPlayer:u}=re(),{idImageAllMedals:i}=B(),l=A(!1),r=A({nickname:"",mmr:"",custom:o.AUTO}),b=()=>{console.log("newPlayer.value",r.value),r.value.nickname&&Number.isInteger(r.value.mmr)&&(u({nickname:r.value.nickname,mmr:parseInt(r.value.mmr),idMedalla:r.value.idMedalla,custom:r.value.custom}),r.value.nickname="",r.value.mmr="",r.value.idMedalla="",r.value.custom=o.AUTO)};return j(l,c=>{c||(r.value.custom=o.AUTO)}),(c,s)=>{const M=L,k=te;return v(),p("div",se,[t("div",ae,[t("div",oe,[s[5]||(s[5]=t("h1",{class:"text-2xl font-bold text-red-500"},"Gestión de Jugadores",-1)),S(M,{to:"/",class:"px-4 py-2 bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-900 dark:text-white rounded-lg transition"},{default:G(()=>s[4]||(s[4]=[Q(" Volver al Inicio ")])),_:1})]),t("div",le,[s[10]||(s[10]=t("h2",{class:"text-xl font-semibold mb-4"},"Agregar Nuevo Jugador",-1)),t("form",{class:"space-y-4",onSubmit:H(b,["prevent"])},[q(t("input",{type:"hidden","onUpdate:modelValue":s[0]||(s[0]=n=>d(r).custom=n)},null,512),[[O,d(r).custom]]),t("div",null,[s[6]||(s[6]=t("label",{class:"block text-sm font-medium mb-2"},"Apodo de Dota 2",-1)),q(t("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>d(r).nickname=n),type:"text",class:"w-full px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:outline-none text-gray-900 dark:text-white",placeholder:"Ingresa el apodo"},null,512),[[O,d(r).nickname]])]),t("div",null,[s[7]||(s[7]=t("label",{class:"block text-sm font-medium mb-2"},"MMR",-1)),q(t("input",{"onUpdate:modelValue":s[2]||(s[2]=n=>d(r).mmr=n),type:"number",class:"w-full px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:outline-none text-gray-900 dark:text-white",placeholder:"Ingresa el MMR"},null,512),[[O,d(r).mmr]])]),t("div",null,[t("label",{class:"block text-sm font-medium mb-2 cursor-pointer flex items-center justify-between",onClick:s[3]||(s[3]=n=>l.value=!d(l))},[t("span",null,w(d(l)?"* Seleccionar Medalla (Manual)":"* Asignación automática por MMR"),1),(v(),p("svg",{class:z(["w-5 h-5 transition-transform duration-300",{"rotate-180":d(l)}]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},s[8]||(s[8]=[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))]),d(l)?(v(),p("div",ne,[(v(!0),p(T,null,N(d(i),n=>(v(),p("div",{key:n.id,onClick:h=>{d(r).idMedalla=n.id,d(r).custom=1},class:z(["border rounded-lg p-2 cursor-pointer hover:border-red-500",{"border-red-500":d(r).idMedalla===n.id}])},[S(k,{src:`/images/medals/${n.id}.jpg`,alt:n.name,class:"w-12 h-12 mx-auto"},null,8,["src","alt"]),t("p",de,w(n.name)+" ",1)],10,ie))),128))])):K("",!0)]),s[9]||(s[9]=t("button",{type:"submit",class:"w-full py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition"}," Agregar Jugador ",-1))],32)]),t("div",ue,[s[12]||(s[12]=t("h2",{class:"text-xl font-semibold mb-4"},"Lista de Jugadores",-1)),t("div",me,[t("table",ce,[s[11]||(s[11]=t("thead",null,[t("tr",{class:"text-left text-sm text-gray-500 dark:text-gray-400"},[t("th",{class:"pb-3 px-3"},"#"),t("th",{class:"pb-3 px-3"},"Apodo"),t("th",{class:"pb-3 px-3"},"MMR"),t("th",{class:"pb-3 px-3"},"Medalla"),t("th",{class:"pb-3 px-3"},"Acciones")])],-1)),t("tbody",null,[(v(!0),p(T,null,N(d(m),(n,h)=>(v(),p("tr",{key:h,class:"border-t border-gray-200 dark:border-gray-700"},[t("td",ge,w(h+1),1),t("td",fe,[t("span",pe,w(n.nickname),1)]),t("td",ve,w(n.mmr),1),t("td",ye,[t("div",be,[S(k,{src:`/images/medals/${n.idMedalla}.jpg`,alt:n.medalla,class:"w-8 h-8"},null,8,["src","alt"]),t("span",he,w(n.medalla),1)])]),t("td",xe,[t("button",{onClick:E=>d(f)(h),class:"p-1.5 text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/50 rounded"}," Eliminar ",8,ke)])]))),128))])])])])])])}}};export{Me as default};
