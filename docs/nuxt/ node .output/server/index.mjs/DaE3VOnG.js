import{_ as I}from"./BUuwl5bQ.js";import{r as v,x as P,f as O,y as R,c as i,a as e,b as S,w as j,q as L,p as y,v as M,u as o,m as V,t as g,z as _,F as w,n as A,o as m,d as J}from"./UYO0mJ74.js";import{u as T}from"./BDmyO0NV.js";const{medals:U}=T(),u=v([]),$=()=>{const r={AUTO:0,MANUAL:1};let f=v([{id:1,custom:r.AUTO,nickname:"JuanPerez",mmr:0},{id:2,custom:r.AUTO,nickname:"RiaMeda",mmr:721},{id:3,custom:r.AUTO,nickname:"jojo12",mmr:840},{id:4,custom:r.AUTO,nickname:"asd8",mmr:1560},{id:5,custom:r.AUTO,nickname:"gg2",mmr:1680},{id:6,custom:r.AUTO,nickname:"as211",mmr:2520},{id:7,custom:r.AUTO,nickname:"rojos34",mmr:3360},{id:8,custom:r.AUTO,nickname:"dialz",mmr:4200},{id:9,custom:r.AUTO,nickname:"pepedias",mmr:5040},{id:10,custom:r.AUTO,nickname:"pepedias",mmr:5761}]);P(()=>{const l=localStorage.getItem("players");u.value=l?JSON.parse(l):[...f.value],U.value.length>0?(u.value.forEach(n=>{if(n.custom===r.AUTO){let d=b(parseInt(n.mmr));n.idMedalla=d.id,n.medalla=d.name}}),console.log("== se encontraron medallas")):console.log("== no se encontraron medallas")}),O(u,()=>{localStorage.setItem("players",JSON.stringify(u.value)),console.log("guardo en localstorage!")},{deep:!0});const p=l=>{if(l.id=Date.now(),l.custom===r.AUTO){let n=b(parseInt(l.mmr));l.medalla=n.name,l.idMedalla=n.id}else l.custom,r.MANUAL;console.log("player to add to players",l),u.value.push(l)},k=l=>{u.value.splice(l,1)},b=l=>{const n=U.value;for(let d=n.length-1;d>=0;d--)if(l>=n[d].mmr)return{id:n[d].id,name:n[d].name};return{id:99,name:"Sin rango"}};return{players:u,CUSTOM_MODE:r,addPlayer:p,deletePlayer:k}},D={class:"py-8"},z={class:"max-w-3xl mx-auto"},B={class:"flex justify-between items-center mb-8"},E={class:"bg-gray-100 dark:bg-gray-800 p-6 rounded-lg mb-8"},F={key:0,class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 transition-all duration-300"},q=["onClick"],G=["src","alt"],H={class:"text-center text-sm mt-2"},K={class:"bg-gray-100 dark:bg-gray-800 p-6 rounded-lg"},Q={class:"overflow-x-auto"},W={class:"min-w-full"},X={class:"py-2 px-3 text-sm"},Y={class:"py-2 px-3"},Z={class:"font-medium"},ee={class:"py-2 px-3"},te={class:"py-2 px-3"},se={class:"flex items-center space-x-2"},ae=["src","alt"],oe={class:"text-sm"},le={class:"py-2 px-3"},re=["onClick"],ue={__name:"players",setup(r){const{players:f,CUSTOM_MODE:p,deletePlayer:k,addPlayer:b}=$(),{idImageAllMedals:l}=T(),d=R().public.baseURL;console.log("runtimeConfig.public.baseURL",d);const c=v(!1),s=v({nickname:"",mmr:"",custom:p.AUTO}),C=()=>{console.log("newPlayer.value",s.value),s.value.nickname&&Number.isInteger(s.value.mmr)&&(b({nickname:s.value.nickname,mmr:parseInt(s.value.mmr),idMedalla:s.value.idMedalla,custom:s.value.custom}),s.value.nickname="",s.value.mmr="",s.value.idMedalla="",s.value.custom=p.AUTO)};return O(c,h=>{h||(s.value.custom=p.AUTO)}),(h,t)=>{const N=I;return m(),i("div",D,[e("div",z,[e("div",B,[t[5]||(t[5]=e("h1",{class:"text-2xl font-bold text-red-500"},"Gestión de Jugadores",-1)),S(N,{to:"/",class:"px-4 py-2 bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-900 dark:text-white rounded-lg transition"},{default:j(()=>t[4]||(t[4]=[J(" Volver al Inicio ")])),_:1})]),e("div",E,[t[10]||(t[10]=e("h2",{class:"text-xl font-semibold mb-4"},"Agregar Nuevo Jugador",-1)),e("form",{class:"space-y-4",onSubmit:L(C,["prevent"])},[y(e("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=a=>o(s).custom=a)},null,512),[[M,o(s).custom]]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium mb-2"},"Apodo de Dota 2",-1)),y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>o(s).nickname=a),type:"text",class:"w-full px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:outline-none text-gray-900 dark:text-white",placeholder:"Ingresa el apodo"},null,512),[[M,o(s).nickname]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium mb-2"},"MMR",-1)),y(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>o(s).mmr=a),type:"number",class:"w-full px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:outline-none text-gray-900 dark:text-white",placeholder:"Ingresa el MMR"},null,512),[[M,o(s).mmr]])]),e("div",null,[e("label",{class:"block text-sm font-medium mb-2 cursor-pointer flex items-center justify-between",onClick:t[3]||(t[3]=a=>c.value=!o(c))},[e("span",null,g(o(c)?"* Seleccionar Medalla (Manual)":"* Asignación automática por MMR"),1),(m(),i("svg",{class:_(["w-5 h-5 transition-transform duration-300",{"rotate-180":o(c)}]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},t[8]||(t[8]=[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))]),o(c)?(m(),i("div",F,[(m(!0),i(w,null,A(o(l),a=>(m(),i("div",{key:a.id,onClick:x=>{o(s).idMedalla=a.id,o(s).custom=1},class:_(["border rounded-lg p-2 cursor-pointer hover:border-red-500",{"border-red-500":o(s).idMedalla===a.id}])},[e("img",{src:`${o(d)}/images/medals/${a.id}.jpg`,alt:a.name,class:"w-12 h-12 mx-auto"},null,8,G),e("p",H,g(a.name)+" ",1)],10,q))),128))])):V("",!0)]),t[9]||(t[9]=e("button",{type:"submit",class:"w-full py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition"}," Agregar Jugador ",-1))],32)]),e("div",K,[t[12]||(t[12]=e("h2",{class:"text-xl font-semibold mb-4"},"Lista de Jugadores",-1)),e("div",Q,[e("table",W,[t[11]||(t[11]=e("thead",null,[e("tr",{class:"text-left text-sm text-gray-500 dark:text-gray-400"},[e("th",{class:"pb-3 px-3"},"#"),e("th",{class:"pb-3 px-3"},"Apodo"),e("th",{class:"pb-3 px-3"},"MMR"),e("th",{class:"pb-3 px-3"},"Medalla"),e("th",{class:"pb-3 px-3"},"Acciones")])],-1)),e("tbody",null,[(m(!0),i(w,null,A(o(f),(a,x)=>(m(),i("tr",{key:x,class:"border-t border-gray-200 dark:border-gray-700"},[e("td",X,g(x+1),1),e("td",Y,[e("span",Z,g(a.nickname),1)]),e("td",ee,g(a.mmr),1),e("td",te,[e("div",se,[e("img",{src:`${o(d)}/images/medals/${a.idMedalla}.jpg`,alt:a.medalla,class:"w-8 h-8"},null,8,ae),e("span",oe,g(a.medalla),1)])]),e("td",le,[e("button",{onClick:ne=>o(k)(x),class:"p-1.5 text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/50 rounded"}," Eliminar ",8,re)])]))),128))])])])])])])}}};export{ue as default};
