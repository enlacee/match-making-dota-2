import{_ as C}from"./DMyInHxr.js";import{r as b,x as N,f as A,c as d,a as e,b as I,w as P,q as S,p as f,v as k,u as r,m as j,t as u,y as M,F as h,n as _,o as i,d as V}from"./By2s6xOt.js";import{u as U}from"./D5Lu5kc8.js";const{medals:w}=U(),m=b([]),J=()=>{const n={AUTO:0,MANUAL:1};let x=b([{id:1,custom:n.AUTO,nickname:"JuanPerez",mmr:0},{id:2,custom:n.AUTO,nickname:"RiaMeda",mmr:721},{id:3,custom:n.AUTO,nickname:"jojo12",mmr:840},{id:4,custom:n.AUTO,nickname:"asd8",mmr:1560},{id:5,custom:n.AUTO,nickname:"gg2",mmr:1680},{id:6,custom:n.AUTO,nickname:"as211",mmr:2520},{id:7,custom:n.AUTO,nickname:"rojos34",mmr:3360},{id:8,custom:n.AUTO,nickname:"dialz",mmr:4200},{id:9,custom:n.AUTO,nickname:"pepedias",mmr:5040},{id:10,custom:n.AUTO,nickname:"pepedias",mmr:5761}]);N(()=>{const l=localStorage.getItem("players");m.value=l?JSON.parse(l):[...x.value],w.value.length>0?(m.value.forEach(a=>{if(a.custom===n.AUTO){let t=g(parseInt(a.mmr));a.idMedalla=t.id,a.medalla=t.name}}),console.log("== se encontraron medallas")):console.log("== no se encontraron medallas")}),A(m,()=>{localStorage.setItem("players",JSON.stringify(m.value)),console.log("guardo en localstorage!")},{deep:!0});const c=l=>{if(l.id=Date.now(),l.custom===n.AUTO){let a=g(parseInt(l.mmr));l.medalla=a.name,l.idMedalla=a.id}else l.custom,n.MANUAL;console.log("player to add to players",l),m.value.push(l)},v=l=>{m.value.splice(l,1)},g=l=>{const a=w.value;for(let t=a.length-1;t>=0;t--)if(l>=a[t].mmr)return{id:a[t].id,name:a[t].name};return{id:99,name:"Sin rango"}};return{players:m,CUSTOM_MODE:n,addPlayer:c,deletePlayer:v}},D={class:"py-8"},L={class:"max-w-3xl mx-auto"},R={class:"flex justify-between items-center mb-8"},B={class:"bg-gray-100 dark:bg-gray-800 p-6 rounded-lg mb-8"},E={key:0,class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 transition-all duration-300"},$=["onClick"],z=["src","alt"],F={class:"text-center text-sm mt-2"},q={class:"bg-gray-100 dark:bg-gray-800 p-6 rounded-lg"},G={class:"overflow-x-auto"},H={class:"min-w-full"},K={class:"py-2 px-3 text-sm"},Q={class:"py-2 px-3"},W={class:"font-medium"},X={class:"py-2 px-3"},Y={class:"py-2 px-3"},Z={class:"flex items-center space-x-2"},ee=["src","alt"],te={class:"text-sm"},se={class:"py-2 px-3"},ae=["onClick"],de={__name:"players",setup(n){const{players:x,CUSTOM_MODE:c,deletePlayer:v,addPlayer:g}=J(),{idImageAllMedals:l}=U(),a=b(!1),t=b({nickname:"",mmr:"",custom:c.AUTO}),O=()=>{console.log("newPlayer.value",t.value),t.value.nickname&&Number.isInteger(t.value.mmr)&&(g({nickname:t.value.nickname,mmr:parseInt(t.value.mmr),idMedalla:t.value.idMedalla,custom:t.value.custom}),t.value.nickname="",t.value.mmr="",t.value.idMedalla="",t.value.custom=c.AUTO)};return A(a,y=>{y||(t.value.custom=c.AUTO)}),(y,s)=>{const T=C;return i(),d("div",D,[e("div",L,[e("div",R,[s[5]||(s[5]=e("h1",{class:"text-2xl font-bold text-red-500"},"Gestión de Jugadores",-1)),I(T,{to:"/",class:"px-4 py-2 bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-900 dark:text-white rounded-lg transition"},{default:P(()=>s[4]||(s[4]=[V(" Volver al Inicio ")])),_:1})]),e("div",B,[s[10]||(s[10]=e("h2",{class:"text-xl font-semibold mb-4"},"Agregar Nuevo Jugador",-1)),e("form",{class:"space-y-4",onSubmit:S(O,["prevent"])},[f(e("input",{type:"hidden","onUpdate:modelValue":s[0]||(s[0]=o=>r(t).custom=o)},null,512),[[k,r(t).custom]]),e("div",null,[s[6]||(s[6]=e("label",{class:"block text-sm font-medium mb-2"},"Apodo de Dota 2",-1)),f(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>r(t).nickname=o),type:"text",class:"w-full px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:outline-none text-gray-900 dark:text-white",placeholder:"Ingresa el apodo"},null,512),[[k,r(t).nickname]])]),e("div",null,[s[7]||(s[7]=e("label",{class:"block text-sm font-medium mb-2"},"MMR",-1)),f(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>r(t).mmr=o),type:"number",class:"w-full px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:outline-none text-gray-900 dark:text-white",placeholder:"Ingresa el MMR"},null,512),[[k,r(t).mmr]])]),e("div",null,[e("label",{class:"block text-sm font-medium mb-2 cursor-pointer flex items-center justify-between",onClick:s[3]||(s[3]=o=>a.value=!r(a))},[e("span",null,u(r(a)?"* Seleccionar Medalla (Manual)":"* Asignación automática por MMR"),1),(i(),d("svg",{class:M(["w-5 h-5 transition-transform duration-300",{"rotate-180":r(a)}]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},s[8]||(s[8]=[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))]),r(a)?(i(),d("div",E,[(i(!0),d(h,null,_(r(l),o=>(i(),d("div",{key:o.id,onClick:p=>{r(t).idMedalla=o.id,r(t).custom=1},class:M(["border rounded-lg p-2 cursor-pointer hover:border-red-500",{"border-red-500":r(t).idMedalla===o.id}])},[e("img",{src:`/images/medals/${o.id}.jpg`,alt:o.name,class:"w-12 h-12 mx-auto"},null,8,z),e("p",F,u(o.name)+" ",1)],10,$))),128))])):j("",!0)]),s[9]||(s[9]=e("button",{type:"submit",class:"w-full py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition"}," Agregar Jugador ",-1))],32)]),e("div",q,[s[12]||(s[12]=e("h2",{class:"text-xl font-semibold mb-4"},"Lista de Jugadores",-1)),e("div",G,[e("table",H,[s[11]||(s[11]=e("thead",null,[e("tr",{class:"text-left text-sm text-gray-500 dark:text-gray-400"},[e("th",{class:"pb-3 px-3"},"#"),e("th",{class:"pb-3 px-3"},"Apodo"),e("th",{class:"pb-3 px-3"},"MMR"),e("th",{class:"pb-3 px-3"},"Medalla"),e("th",{class:"pb-3 px-3"},"Acciones")])],-1)),e("tbody",null,[(i(!0),d(h,null,_(r(x),(o,p)=>(i(),d("tr",{key:p,class:"border-t border-gray-200 dark:border-gray-700"},[e("td",K,u(p+1),1),e("td",Q,[e("span",W,u(o.nickname),1)]),e("td",X,u(o.mmr),1),e("td",Y,[e("div",Z,[e("img",{src:`/images/medals/${o.idMedalla}.jpg`,alt:o.medalla,class:"w-8 h-8"},null,8,ee),e("span",te,u(o.medalla),1)])]),e("td",se,[e("button",{onClick:oe=>r(v)(p),class:"p-1.5 text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/50 rounded"}," Eliminar ",8,ae)])]))),128))])])])])])])}}};export{de as default};
